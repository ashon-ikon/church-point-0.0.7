/**
 * jQuery bxSlider v3.0
 * http://bxslider.com
 *
 * Copyright 2011, Steven Wanderski
 * http://bxcreative.com
 *
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 */
(function(a){a.fn.bxSlider=function(R){var B={mode:"horizontal",infiniteLoop:true,hideControlOnEnd:false,controls:true,speed:500,easing:"swing",pager:false,pagerSelector:null,pagerType:"full",pagerLocation:"bottom",pagerShortSeparator:"/",pagerActiveClass:"pager-active",nextText:"next",nextImage:"",nextSelector:null,prevText:"prev",prevImage:"",prevSelector:null,captions:false,captionsSelector:null,auto:false,autoDirection:"next",autoControls:false,autoControlsSelector:null,autoStart:true,autoHover:false,autoDelay:0,pause:3000,startText:"start",startImage:"",stopText:"stop",stopImage:"",ticker:false,tickerSpeed:5000,tickerDirection:"next",tickerHover:false,wrapperClass:"bx-wrapper",startingSlide:0,displaySlideQty:1,moveSlideQty:1,randomStart:false,onBeforeSlide:function(){},onAfterSlide:function(){},onLastSlide:function(){},onFirstSlide:function(){},onNextSlide:function(){},onPrevSlide:function(){},buildPager:null};var R=a.extend(B,R);var g=this;var f="";var I="";var o="";var Z="";var X="";var y="";var L="";var G="";var Q="";var n="";var w="";var J="";var p="";var d="";var F="";var e=true;var W=false;var s=0;var l=0;var m=0;var P=0;var u=0;var H=0;var t=0;var c=0;var k=0;var h=false;var K=0;var N=o.length-1;var aa=false;this.goToSlide=function(ac,ab){if(!h){h=true;m=ac;R.onBeforeSlide(m,o.length,o.eq(m));if(typeof(ab)=="undefined"){if(typeof(R.stopAuto)!="undefined"){var ab=R.stopAuto}else{var ab=true}}if(ab){if(R.auto){g.stopShow(true)}}slide=ac;if(slide==K){R.onFirstSlide(m,o.length,o.eq(m))}if(slide==N){R.onLastSlide(m,o.length,o.eq(m))}if(R.mode=="horizontal"){f.animate({left:"-"+O(slide,"left")+"px"},R.speed,R.easing,function(){h=false;R.onAfterSlide(m,o.length,o.eq(m))})}else{if(R.mode=="vertical"){f.animate({top:"-"+O(slide,"top")+"px"},R.speed,R.easing,function(){h=false;R.onAfterSlide(m,o.length,o.eq(m))})}else{if(R.mode=="fade"){r()}}}b();if(R.moveSlideQty>1){ac=Math.floor(ac/R.moveSlideQty)}q(ac);Y()}};this.goToNextSlide=function(ad){if(typeof(ad)=="undefined"){if(typeof(R.stopAuto)!="undefined"){var ad=R.stopAuto}else{var ad=true}}if(ad){if(R.auto){g.stopShow(true)}}if(!R.infiniteLoop){if(!h){var ac=false;m=(m+(R.moveSlideQty));if(m<=N){b();R.onNextSlide(m,o.length,o.eq(m));g.goToSlide(m)}else{m-=R.moveSlideQty}}}else{if(!h){h=true;var ac=false;m=(m+R.moveSlideQty);if(m>N){m=m%o.length;ac=true}R.onNextSlide(m,o.length,o.eq(m));R.onBeforeSlide(m,o.length,o.eq(m));if(R.mode=="horizontal"){var ae=(R.moveSlideQty*L);f.animate({left:"-="+ae+"px"},R.speed,R.easing,function(){h=false;if(ac){f.css("left","-"+O(m,"left")+"px")}R.onAfterSlide(m,o.length,o.eq(m))})}else{if(R.mode=="vertical"){var ab=(R.moveSlideQty*l);f.animate({top:"-="+ab+"px"},R.speed,R.easing,function(){h=false;if(ac){f.css("top","-"+O(m,"top")+"px")}R.onAfterSlide(m,o.length,o.eq(m))})}else{if(R.mode=="fade"){r()}}}if(R.moveSlideQty>1){q(Math.ceil(m/R.moveSlideQty))}else{q(m)}Y()}}};this.goToPreviousSlide=function(ad){if(typeof(ad)=="undefined"){if(typeof(R.stopAuto)!="undefined"){var ad=R.stopAuto}else{var ad=true}}if(ad){if(R.auto){g.stopShow(true)}}if(!R.infiniteLoop){if(!h){var ac=false;m=m-R.moveSlideQty;if(m<0){m=0;if(R.hideControlOnEnd){a(".bx-prev",Z).hide()}}b();R.onPrevSlide(m,o.length,o.eq(m));g.goToSlide(m)}}else{if(!h){h=true;var ac=false;m=(m-(R.moveSlideQty));if(m<0){negativeOffset=(m%o.length);if(negativeOffset==0){m=0}else{m=(o.length)+negativeOffset}ac=true}R.onPrevSlide(m,o.length,o.eq(m));R.onBeforeSlide(m,o.length,o.eq(m));if(R.mode=="horizontal"){var ae=(R.moveSlideQty*L);f.animate({left:"+="+ae+"px"},R.speed,R.easing,function(){h=false;if(ac){f.css("left","-"+O(m,"left")+"px")}R.onAfterSlide(m,o.length,o.eq(m))})}else{if(R.mode=="vertical"){var ab=(R.moveSlideQty*l);f.animate({top:"+="+ab+"px"},R.speed,R.easing,function(){h=false;if(ac){f.css("top","-"+O(m,"top")+"px")}R.onAfterSlide(m,o.length,o.eq(m))})}else{if(R.mode=="fade"){r()}}}if(R.moveSlideQty>1){q(Math.ceil(m/R.moveSlideQty))}else{q(m)}Y()}}};this.goToFirstSlide=function(ab){if(typeof(ab)=="undefined"){if(typeof(R.stopAuto)!="undefined"){var ab=R.stopAuto}else{var ab=true}}g.goToSlide(K,ab)};this.goToLastSlide=function(){if(typeof(ab)=="undefined"){if(typeof(R.stopAuto)!="undefined"){var ab=R.stopAuto}else{var ab=true}}g.goToSlide(N,ab)};this.getCurrentSlide=function(){return m};this.getSlideCount=function(){return o.length};this.stopShow=function(ab){clearInterval(w);if(typeof(ab)=="undefined"){var ab=true}if(ab&&R.autoControls){J.html(d).removeClass("stop").addClass("start");e=false}};this.startShow=function(ab){if(typeof(ab)=="undefined"){var ab=true}v();if(ab&&R.autoControls){J.html(F).removeClass("start").addClass("stop");e=true}};this.stopTicker=function(ab){f.stop();if(typeof(ab)=="undefined"){var ab=true}if(ab&&R.ticker){J.html(d).removeClass("stop").addClass("start");e=false}};this.startTicker=function(ad){if(R.mode=="horizontal"){if(R.tickerDirection=="next"){var ac=parseInt(f.css("left"));var af=(H+ac)+o.eq(0).width()}else{if(R.tickerDirection=="prev"){var ac=-parseInt(f.css("left"));var af=(ac)-o.eq(0).width()}}var ae=(af*R.tickerSpeed)/H;z(c,af,ae)}else{if(R.mode=="vertical"){if(R.tickerDirection=="next"){var ab=parseInt(f.css("top"));var af=(t+ab)+o.eq(0).height()}else{if(R.tickerDirection=="prev"){var ab=-parseInt(f.css("top"));var af=(ab)-o.eq(0).height()}}var ae=(af*R.tickerSpeed)/t;z(k,af,ae);if(typeof(ad)=="undefined"){var ad=true}if(ad&&R.ticker){J.html(F).removeClass("start").addClass("stop");e=true}}}};this.initShow=function(){f=a(this);I=f.clone();o=f.children();Z="";X=f.children(":first");y=X.width();s=0;L=X.outerWidth();l=0;G=S();Q=x();h=false;n="";m=0;P=0;u=0;w="";J="";p="";d="";F="";e=true;W=false;H=0;t=0;c=0;k=0;K=0;N=o.length-1;o.each(function(ac){if(a(this).outerHeight()>l){l=a(this).outerHeight()}if(a(this).outerWidth()>s){s=a(this).outerWidth()}});if(R.randomStart){var ab=Math.floor(Math.random()*o.length);m=ab;P=L*(R.moveSlideQty+ab);u=l*(R.moveSlideQty+ab)}else{m=R.startingSlide;P=L*(R.moveSlideQty+R.startingSlide);u=l*(R.moveSlideQty+R.startingSlide)}A();if(R.pager&&!R.ticker){if(R.pagerType=="full"){D("full")}else{if(R.pagerType=="short"){D("short")}}}if(R.controls&&!R.ticker){E()}if(R.auto||R.ticker){if(R.autoControls){U()}if(R.autoStart){setTimeout(function(){g.startShow(true)},R.autoDelay)}else{g.stopShow(true)}if(R.autoHover&&!R.ticker){M()}}if(R.moveSlideQty>1){q(Math.ceil(m/R.moveSlideQty))}else{q(m)}b();if(R.captions){Y()}R.onAfterSlide(m,o.length,o.eq(m))};this.destroyShow=function(){clearInterval(w);a(".bx-next, .bx-prev, .bx-pager, .bx-auto",Z).remove();f.unwrap().unwrap().removeAttr("style");f.children().removeAttr("style").not(".pager").remove();o.removeClass("pager")};this.reloadShow=function(){g.destroyShow();g.initShow()};function A(){C(R.startingSlide);if(R.mode=="horizontal"){f.wrap('<div class="'+R.wrapperClass+'" style="width:'+G+'px; position:relative;"></div>').wrap('<div class="bx-window" style="position:relative; overflow:hidden; width:'+G+'px;"></div>').css({width:"999999px",position:"relative",left:"-"+(P)+"px"});f.children().css({width:y,"float":"left",listStyle:"none"});Z=f.parent().parent();o.addClass("pager")}else{if(R.mode=="vertical"){f.wrap('<div class="'+R.wrapperClass+'" style="width:'+s+'px; position:relative;"></div>').wrap('<div class="bx-window" style="width:'+s+"px; height:"+Q+'px; position:relative; overflow:hidden;"></div>').css({height:"999999px",position:"relative",top:"-"+(u)+"px"});f.children().css({listStyle:"none",height:l});Z=f.parent().parent();o.addClass("pager")}else{if(R.mode=="fade"){f.wrap('<div class="'+R.wrapperClass+'" style="width:'+s+'px; position:relative;"></div>').wrap('<div class="bx-window" style="height:'+l+"px; width:"+s+'px; position:relative; overflow:hidden;"></div>');f.children().css({listStyle:"none",position:"absolute",top:0,left:0,zIndex:98});Z=f.parent().parent();o.not(":eq("+m+")").fadeTo(0,0);o.eq(m).css("zIndex",99)}}}if(R.captions&&R.captionsSelector==null){Z.append('<div class="bx-captions"></div>')}}function C(){if(R.mode=="horizontal"||R.mode=="vertical"){var af=j(o,0,R.moveSlideQty,"backward");a.each(af,function(ag){f.prepend(a(this))});var ad=(o.length+R.moveSlideQty)-1;var ac=o.length-R.displaySlideQty;var ae=ad-ac;var ab=j(o,0,ae,"forward");if(R.infiniteLoop){a.each(ab,function(ag){f.append(a(this))})}}}function E(){if(R.nextImage!=""){nextContent=R.nextImage;nextType="image"}else{nextContent=R.nextText;nextType="text"}if(R.prevImage!=""){prevContent=R.prevImage;prevType="image"}else{prevContent=R.prevText;prevType="text"}i(nextType,nextContent,prevType,prevContent)}function v(){if(R.auto){if(!R.infiniteLoop){if(R.autoDirection=="next"){w=setInterval(function(){m+=R.moveSlideQty;if(m>N){m=m%o.length}g.goToSlide(m,false)},R.pause)}else{if(R.autoDirection=="prev"){w=setInterval(function(){m-=R.moveSlideQty;if(m<0){negativeOffset=(m%o.length);if(negativeOffset==0){m=0}else{m=(o.length)+negativeOffset}}g.goToSlide(m,false)},R.pause)}}}else{if(R.autoDirection=="next"){w=setInterval(function(){g.goToNextSlide(false)},R.pause)}else{if(R.autoDirection=="prev"){w=setInterval(function(){g.goToPreviousSlide(false)},R.pause)}}}}else{if(R.ticker){R.tickerSpeed*=10;a(".pager",Z).each(function(ab){H+=a(this).width();t+=a(this).height()});if(R.tickerDirection=="prev"&&R.mode=="horizontal"){f.css("left","-"+(H+P)+"px")}else{if(R.tickerDirection=="prev"&&R.mode=="vertical"){f.css("top","-"+(t+u)+"px")}}if(R.mode=="horizontal"){c=parseInt(f.css("left"));z(c,H,R.tickerSpeed)}else{if(R.mode=="vertical"){k=parseInt(f.css("top"));z(k,t,R.tickerSpeed)}}if(R.tickerHover){T()}}}}function z(ac,ad,ab){if(R.mode=="horizontal"){if(R.tickerDirection=="next"){f.animate({left:"-="+ad+"px"},ab,"linear",function(){f.css("left",ac);z(ac,H,R.tickerSpeed)})}else{if(R.tickerDirection=="prev"){f.animate({left:"+="+ad+"px"},ab,"linear",function(){f.css("left",ac);z(ac,H,R.tickerSpeed)})}}}else{if(R.mode=="vertical"){if(R.tickerDirection=="next"){f.animate({top:"-="+ad+"px"},ab,"linear",function(){f.css("top",ac);z(ac,t,R.tickerSpeed)})}else{if(R.tickerDirection=="prev"){f.animate({top:"+="+ad+"px"},ab,"linear",function(){f.css("top",ac);z(ac,t,R.tickerSpeed)})}}}}}function U(){if(R.startImage!=""){startContent=R.startImage;startType="image"}else{startContent=R.startText;startType="text"}if(R.stopImage!=""){stopContent=R.stopImage;stopType="image"}else{stopContent=R.stopText;stopType="text"}V(startType,startContent,stopType,stopContent)}function M(){Z.find(".bx-window").hover(function(){if(e){g.stopShow(false)}},function(){if(e){g.startShow(false)}})}function T(){f.hover(function(){if(e){g.stopTicker(false)}},function(){if(e){g.startTicker(false)}})}function r(){o.not(":eq("+m+")").fadeTo(R.speed,0).css("zIndex",98);o.eq(m).css("zIndex",99).fadeTo(R.speed,1,function(){h=false;if(jQuery.browser.msie){o.eq(m).get(0).style.removeAttribute("filter")}R.onAfterSlide(m,o.length,o.eq(m))})}function q(ab){if(R.pagerType=="full"&&R.pager){a("a",n).removeClass(R.pagerActiveClass);a("a",n).eq(ab).addClass(R.pagerActiveClass)}else{if(R.pagerType=="short"&&R.pager){a(".bx-pager-current",n).html(m+1)}}}function i(ag,ab,af,ad){var ac=a('<a href="#" class="bx-next"></a>');var ae=a('<a href="#" class="bx-prev"></a>');if(ag=="text"){ac.html(ab)}else{ac.html('<img src="'+ab+'" />')}if(af=="text"){ae.html(ad)}else{ae.html('<img src="'+ad+'" />')}if(R.prevSelector){a(R.prevSelector).append(ae)}else{Z.append(ae)}if(R.nextSelector){a(R.nextSelector).append(ac)}else{Z.append(ac)}ac.click(function(){g.goToNextSlide();return false});ae.click(function(){g.goToPreviousSlide();return false})}function D(ac){var ae=o.length;if(R.moveSlideQty>1){if(o.length%R.moveSlideQty!=0){ae=Math.ceil(o.length/R.moveSlideQty)}else{ae=o.length/R.moveSlideQty}}var ad="";if(R.buildPager){for(var ab=0;ab<ae;ab++){ad+=R.buildPager(ab,o.eq(ab*R.moveSlideQty))}}else{if(ac=="full"){for(var ab=1;ab<=ae;ab++){ad+='<a href="" class="pager-link pager-'+ab+'">'+ab+"</a>"}}else{if(ac=="short"){ad='<span class="bx-pager-current">'+(R.startingSlide+1)+"</span> "+R.pagerShortSeparator+' <span class="bx-pager-total">'+o.length+"</span>"}}}if(R.pagerSelector){a(R.pagerSelector).append(ad);n=a(R.pagerSelector)}else{var af=a('<div class="bx-pager"></div>');af.append(ad);if(R.pagerLocation=="top"){Z.prepend(af)}else{if(R.pagerLocation=="bottom"){Z.append(af)}}n=a(".bx-pager",Z)}n.children().click(function(){if(R.pagerType=="full"){var ag=n.children().index(this);if(R.moveSlideQty>1){ag*=R.moveSlideQty}g.goToSlide(ag)}return false})}function Y(){var ab=a("img",o.eq(m)).attr("title");if(ab!=""){if(R.captionsSelector){a(R.captionsSelector).html(ab)}else{a(".bx-captions",Z).html(ab)}}else{if(R.captionsSelector){a(R.captionsSelector).html("&nbsp;")}else{a(".bx-captions",Z).html("&nbsp;")}}}function V(ab,ad,ae,ac){J=a('<a href="" class="bx-start"></a>');if(ab=="text"){d=ad}else{d='<img src="'+ad+'" />'}if(ae=="text"){F=ac}else{F='<img src="'+ac+'" />'}if(R.autoControlsSelector){a(R.autoControlsSelector).append(J)}else{Z.append('<div class="bx-auto"></div>');a(".bx-auto",Z).html(J)}J.click(function(){if(R.ticker){if(a(this).hasClass("stop")){g.stopTicker()}else{if(a(this).hasClass("start")){g.startTicker()}}}else{if(a(this).hasClass("stop")){g.stopShow(true)}else{if(a(this).hasClass("start")){g.startShow(true)}}}return false})}function b(){if(!R.infiniteLoop&&R.hideControlOnEnd){if(m==K){a(".bx-prev",Z).hide()}else{a(".bx-prev",Z).show()}if(m==N){a(".bx-next",Z).hide()}else{a(".bx-next",Z).show()}}}function O(ac,ab){if(ab=="left"){var ad=a(".pager",Z).eq(ac).position().left}else{if(ab=="top"){var ad=a(".pager",Z).eq(ac).position().top}}return ad}function S(){var ab=X.outerWidth()*R.displaySlideQty;return ab}function x(){var ab=X.outerHeight()*R.displaySlideQty;return ab}function j(ag,ac,ab,ad){var ah=[];var af=ab;var ae=false;if(ad=="backward"){ag=a.makeArray(ag);ag.reverse()}while(af>0){a.each(ag,function(aj,ai){if(af>0){if(!ae){if(aj==ac){ae=true;ah.push(a(this).clone());af--}}else{ah.push(a(this).clone());af--}}else{return false}})}return ah}this.each(function(){if(a(this).children().length>0){g.initShow()}});return this};jQuery.fx.prototype.cur=function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var b=parseFloat(jQuery.css(this.elem,this.prop));return b}})(jQuery);
